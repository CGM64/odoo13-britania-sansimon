<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <data>

    <record id="view_stock_cantidad_actual_search" model="ir.ui.view">
      <field name="name">stock.cantidad.actual.search</field>
      <field name="model">stock.quant</field>
      <field name="arch" type="xml">
        <search string="Stock actual">
          
          <filter name='internal_loc' string="Ubicación Interna" domain="[('location_id.usage','=', 'internal')]"/>
          <filter name='transit_loc' string="Ubicación de Tránsito" domain="[('location_id.usage' ,'=', 'transit')]"/>
          <filter name="on_hand" string="A mano" domain="[('on_hand', '=', True)]"/>
          <separator/>
          <filter name="negative" string="Stock negativo" domain="[('quantity', '&lt;', 0.0)]"/>
          <filter name="positive" string="Stock positivo" domain="[('quantity', '&gt;', 0.0)]"/>
          <filter name="without_zero" string="Stock sin ceros" domain="[('quantity', '!=', 0.0)]"/>
          <filter name="reserved" string="Reservas" domain="[('reserved_quantity', '&gt;', 0.0)]"/>
          
          <filter string='Producto' name="productgroup" context="{'group_by': 'product_id'}"/>
          <filter string='Ubicación' name="locationgroup" domain="[]" context="{'group_by': 'location_id'}"/>
          <filter string='Compañía' name="company" domain="[]" context="{'group_by': 'company_id'}" groups="base.group_multi_company"/>
        </search>
      </field>
    </record>

    <record id="view_stock_cantidad_actual_tree" model="ir.ui.view">
      <field name="name">stock.cantidad.actual.tree</field>
      <field name="model">stock.quant</field>
      <field name="arch" type="xml">
        <tree string="Stock actual">
          <field name="product_default_code" string="Referencia interna"/>
          <field name="product_chasis"/>
          <field name="product_name"/>
          <field name="product_uom_id"/>
          <field name="quantity" string="Cantidad"/>
          <field name="product_standard_price" string="Costo unitario"/>
          <field name="value" string="Costo total"/>
        </tree>
      </field>
    </record>

    <record id="action_stock_ver_cantidad_actual" model="ir.actions.act_window">
      <field name="name">Stock cantidad actual</field>
      <field name="type">ir.actions.act_window</field>
      <field name="res_model">stock.quant</field>
      <field name="view_mode">tree,form</field>
      <field name="view_id" ref="britania.view_stock_cantidad_actual_tree"/>
      <field name="search_view_id" ref="britania.view_stock_cantidad_actual_search"/>
      <field name="context">{
              'search_default_internal_loc':1,
              'search_default_productgroup':1,
        }
      </field>
    </record>

    <menuitem id="stock_cantidad_actual" name="Stock actual" parent="stock.menu_warehouse_report" action="action_stock_ver_cantidad_actual"/>

  </data>
</odoo>