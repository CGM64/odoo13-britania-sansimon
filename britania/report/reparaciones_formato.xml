<?xml version="1.0" encoding="UTF-8"?>
<odoo>
  <data>
    
    <report id="report_custom4"
      string="Formato de reparacion"
      model="repair.order"
      report_type="qweb-pdf"
      name="britania.reparacion_custom_template"
    />
  
    <template id="external_layout_reparacion">
      <div t-attf-class="header o_company_#{o.company_id.id}_layout" t-att-style="report_header_style">
          <div class="o_boxed_header">
                <div class="row mb8">
                    <div class="col-4">
                        <img t-if="o.company_id.logo" t-att-src="image_data_uri(o.company_id.logo)" alt="Logo" />
                    </div>
                    <div class="col-8  text-center">
                        <h4 class="mt0" t-field="o.company_id.company_registry" />
                        <h6 class="mt0" t-field="o.company_id.display_street" />
                        <h6 class="mt0">
                            <span>Teléfono:
              </span>
                            <span t-field="o.company_id.phone" />
                            <span>, Nit:
              </span>
                            <span t-field="o.company_id.vat" />
                            <br/>
                        </h6>
                        <h6 class="mt0">
                            <span>Web:
              </span>
                            <span t-field="o.company_id.display_website" />
                            <span>, Correo:
              </span>
                            <span t-field="o.company_id.email" />
                        </h6>
                    </div>
                </div>
            </div>
      </div>

      <div t-attf-class="footer o_boxed_footer o_company_#{o.company_id.id}_layout">
          <div class="text-center">
                <ul class="list-inline">
                    <li t-if="o.company_id.phone" class="list-inline-item">
                        Tel:
                        <span t-field="o.company_id.phone" />
                    </li>
                    <li t-if="o.company_id.email" class="list-inline-item">
                        Mail:
                        <span t-field="o.company_id.email" />
                    </li>
                    <li t-if="o.company_id.website" class="list-inline-item">
                        Web:
                        <span t-field="o.company_id.display_website" />
                    </li>
                    <li t-if="o.company_id.vat" class="list-inline-item">
                        <t t-esc="o.company_id.country_id.vat_label or 'Tax ID'" />
                        :
                        <span t-field="o.company_id.vat" />
                    </li>
                </ul>
                <div t-field="o.company_id.report_footer" />
                
            </div>
      </div>
    </template>

    <template id="reparacion_custom_template">
      <t t-call="web.html_container">
      
        <t t-foreach="docs" t-as="o">
            <t t-call="britania.external_layout_reparacion"/>
            <div class="page">
                <div class="oe_structure"/>
                
                <div style="font-size: 20px;"><strong t-if="o.address_id == o.partner_invoice_id">Datos de facturación:</strong></div>
                <div t-if="o.partner_invoice_id">
                    <strong t-if="o.address_id != o.partner_invoice_id">Invoice address: </strong>
                    <br/><div t-field="o.partner_invoice_id" t-options='{"widget": "contact", "fields": ["name"]}' /><br/>
                    <div t-field="o.partner_invoice_id" t-options='{"widget": "contact", "fields": ["address"], "no_marker": True}' /><br/>
                    <div t-field="o.partner_invoice_id" t-options='{"widget": "contact", "fields": ["phone"], "no_marker": True, "phone_icons": True}' />
                    <p t-if="o.partner_invoice_id.vat">
                        <t t-esc="o.company_id.country_id.vat_label or 'Tax ID'" />
                        :
                        <span t-field="o.partner_invoice_id.vat" />
                    </p>
                </div>

                <div class="container">
                    <div class="row"></div>
                </div>

                <h2>
                    <span t-if="o.state != 'draft'">Orden de </span>
                    <span t-if="o.state == 'draft'">Presupuesto de </span>
                    <span t-field="o.tipo_orden" />
                    <span> nº:</span>
                    <span t-field="o.name" />
                </h2>


                <div id="informations">
                    
                    <div style="font-size: 20px;"><strong>Datos de la motocicleta: </strong></div>
                    <br/>
                    <p><b>Motocicleta:  </b><span t-field="o.product_id.name"/></p>
                    <p><strong>VIN:  </strong><span t-esc="o.obtnener_vin()" /></p>
                    <p><strong>Fecha:  </strong> <span t-field="o.create_date" t-options="{'widget': 'date'}"/></p>
                    <p><strong>Ubicación:  </strong><span t-field="o.location_id"/> </p>
                    <p><b>Compañia:  </b><span t-field="o.company_id.name"/></p>
                    <p><b>Vencimiento de garantía:  </b><span t-field="o.guarantee_limit"/></p>
                    <p><b>Método de facturación:  </b><span t-field="o.invoice_method"/></p>
                    <p><b>Responsable:  </b><span t-field="o.user_id"/></p>
                    <p><b>Tipo de orden:  </b><span t-field="o.tipo_orden"/></p><br/>
                    <p><span t-field="o.internal_notes"/></p>
                    <p><span t-field="o.quotation_notes"/></p>
                    <br/><br/><br/>
                    <hr size="2px" color="black"  width="25%" style="margin-left: 8em;"/><hr size="2px" color="black"  width="25%" style="margin-left: 32em; margin-top: -7px;"/>
                    <pre>                                      Nombre de quien recibe                                                      Nombre de quien lo envia</pre>
                </div>
                
                
            </div>

            
          
          
        </t>
      </t>
      
    </template>



  </data>
</odoo>