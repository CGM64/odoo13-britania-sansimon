<odoo>
    <data>
        <template id="report_corte_caja_pdf">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                    <t t-call="web.external_layout">

                        <div clas="page mb-5">

                            <style>
                            .div-bg {
                                background-color:#3D3D3D;
                                border-radius:20px;
                            }
                            .border-secondary{
                                border: 2px solid  #3D3D3D !important;
                                border-radius:20px !important;
                            }
                            </style>

                            <h2 class="text-center">REPORTE DE CORTE DE CAJA</h2>
                            <div clas="encabezado" t-foreach="o.encabezado_corte_caja()" t-as="dato">
                                <div class="row">
                                    <div class="col-auto">
                                        <strong>Fecha de Impresi√≥n:</strong>
                                    </div>
                                    <div class="col-auto">
                                        <p t-esc="context_timestamp(datetime.datetime.now()).strftime('%d-%m-%Y')"/>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-auto">
                                        <strong>Cajero:</strong>
                                    </div>
                                    <div class="col-auto">
                                        <p t-esc="dato['user_id']" />
                                    </div>
                                    <div class="col-auto">
                                        <strong>Origen:</strong>
                                    </div>
                                    <div class="col-auto">
                                        <p t-esc="dato['origen']" />
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-auto">
                                        <strong>Del:</strong>
                                    </div>
                                    <div class="col-auto">
                                        <p t-esc="dato['fecha_inicio']" />
                                    </div>
                                    <div class="col-auto">
                                        <strong>al:</strong>
                                    </div>
                                    <div class="col-auto">
                                        <p t-esc="dato['fecha_fin']" />
                                    </div>
                                </div>
                            </div>

                            <div class="detalle mt-5 mb-5" t-foreach="o.corte_caja_pdf()" t-as="dato">
                                <div class="row">
                                    <div class="col-3">
                                        <strong>
                                            <p t-esc="dato['diario']" />
                                        </strong>
                                    </div>
                                </div>
                                <div class="row div-bg p-3 mb-2 text-white">
                                    <div class="col-2 text-center ">PAGO</div>
                                    <div class="col-2 text-center ">FECHA</div>
                                    <div class="col-2 text-center">CIRCULAR</div>
                                    <div class="col-3 text-center">CLIENTE</div>
                                    <div class="col-4 text-center">MONTO</div>
                                </div>

                                <div class="row" t-foreach="dato['factura']" t-as="fac">
                                    <div class="col-auto ">
                                        <p t-esc="fac['account_payment_line_id']" />
                                    </div>
                                    <div class="col-auto ">
                                        <p t-esc="fac['payment_date']" />
                                    </div>
                                    <div class="col-auto ">
                                        <p t-esc="fac['circular']" />
                                    </div>
                                    <div class="col-5 ">
                                        <p t-esc="fac['partner_id']" />
                                    </div>
                                    <div class="col-auto text-right">
                                        <p class="text-right" t-esc="fac['amount']" />
                                    </div>
                                </div>

                                <div class="row justify-content-end">
                                    <div class="col-3 border-bottom border-top">
                                        <strong class="float-right">Subtotal:</strong>
                                    </div>
                                    <div class="col-3 border-bottom border-top">
                                        <strong class="float-right">
                                            <p t-esc="dato['subtotal']"/>
                                        </strong>
                                    </div>
                                </div>
                            </div>

                            <div class="row mt-3 justify-content-end">
                                <div class="col-3">
                                    <strong class="float-right">Total:</strong>
                                </div>
                                <div class="col-3 p-3 mb-2 border text-white border-secondary rounded">
                                    <strong class="text-center">
                                        <p t-esc="o.total_corte_caja()"/>
                                    </strong>
                                </div>
                            </div>

                            <h4 class="text-left">Resumen Facturas</h4>
                            <div class="resumen_factura" t-foreach="o.sumar_por_estado()" t-as="dato">
                                <div class="row">
                                    <div class="col-auto">
                                        <p t-esc="dato['estado']" />
                                    </div>
                                    <div class="col-auto">
                                        <p t-esc="dato['total']" />
                                    </div>
                                </div>
                            </div>

                        </div>

                    </t>
                </t>
            </t>
        </template>
    </data>
</odoo>
